# VendorTal Domain Setup Guide

This document explains the multi-domain setup for VendorSoluce and VendorTal (vendor portal).

## Overview

- **vendorsoluce.com** - Main platform for organizations managing vendor risk
- **vendortal.com** - Dedicated vendor portal for vendors completing security assessments

Both domains serve the same codebase but show different content based on domain detection.

## Architecture

### Domain Detection

The app uses `src/utils/domainDetection.ts` to detect which domain is being accessed:

- `isVendorPortalDomain()` - Returns true if on vendortal.com
- `getAppDomain()` - Returns 'vendortal' or 'vendorsoluce'
- `getBaseUrl()` - Returns the current domain's base URL
- `getVendorPortalUrl()` - Returns vendortal.com URL

### Routing

When accessed via **vendortal.com**:
- Shows only vendor portal routes:
  - `/` → Vendor Portal Landing Page
  - `/vendor-portal` → Vendor Portal Landing Page
  - `/vendor-assessments/:id` → Assessment Portal
- No navbar or footer (minimal UI)
- No access to main VendorSoluce features

When accessed via **vendorsoluce.com**:
- Shows full VendorSoluce platform
- All routes available
- Footer includes "For Vendors" link to vendortal.com

## Configuration

### Environment Variables

Add these to your `.env` files:

```bash
# Vendor Portal Domain
VITE_VENDOR_PORTAL_URL=https://vendortal.com
VITE_VENDOR_PORTAL_DOMAIN=vendortal.com

# Main App URL (optional, defaults to vendorsoluce.com)
VITE_APP_URL=https://vendorsoluce.com
```

### Vercel Setup

1. **Add Domains in Vercel Dashboard:**
   - Go to your project settings → Domains
   - Add: `vendortal.com`
   - Add: `www.vendortal.com`
   - Add: `vendorsoluce.com` (if not already added)
   - Add: `www.vendorsoluce.com` (if not already added)

2. **DNS Configuration:**
   - Point `vendortal.com` → Vercel (A record or CNAME)
   - Point `www.vendortal.com` → Vercel (CNAME to vendortal.com or Vercel)
   - SSL certificates are auto-generated by Vercel

3. **Deployment:**
   - Both domains will serve the same build
   - Domain detection happens at runtime

## Email Templates

Vendor assessment invitation emails use `vendortal.com` URLs:

```typescript
import { EmailTemplates } from './templates/emailTemplates';

// Generate vendor invitation email
const email = EmailTemplates.vendorAssessmentInvitation({
  vendorName: 'Acme Corp',
  assessmentId: 'uuid-here',
  organizationName: 'Your Company',
  dueDate: '2025-02-15',
  frameworkName: 'CMMC Level 2'
});

// Email will contain link: https://vendortal.com/vendor-assessments/{id}
```

## SEO Optimization

The Vendor Portal Landing Page automatically sets SEO meta tags based on domain:

- **vendortal.com**: Uses "VendorTal" branding
- **vendorsoluce.com**: Uses "VendorSoluce" branding

Meta tags are set dynamically via `useEffect` in `VendorPortalLandingPage.tsx`.

## Testing

### Local Testing

1. **Test vendortal.com routing:**
   ```bash
   # Add to /etc/hosts (Mac/Linux) or C:\Windows\System32\drivers\etc\hosts (Windows)
   127.0.0.1 vendortal.com
   127.0.0.1 www.vendortal.com
   ```

2. **Start dev server:**
   ```bash
   npm run dev
   ```

3. **Access:**
   - http://vendortal.com:5173 → Should show vendor portal only
   - http://localhost:5173 → Should show full VendorSoluce app

### Production Testing

1. Deploy to Vercel
2. Configure DNS for vendortal.com
3. Test both domains:
   - https://vendortal.com → Vendor portal
   - https://vendorsoluce.com → Full platform

## Files Modified

- `src/utils/domainDetection.ts` - New utility for domain detection
- `src/App.tsx` - Domain-based routing logic
- `src/pages/VendorPortalLandingPage.tsx` - SEO optimization
- `src/utils/config.ts` - Vendor portal configuration
- `src/templates/emailTemplates.ts` - Vendor portal URL support
- `src/components/layout/Footer.tsx` - Conditional "For Vendors" section
- `vercel.json` - Domain configuration comment

## Branding

- **VendorSoluce**: Main platform branding
- **VendorTal**: Vendor portal branding (used on vendortal.com)

The app name in `config.app.name` automatically switches based on domain.

## Next Steps

1. ✅ Code implementation complete
2. ⏳ Configure DNS for vendortal.com
3. ⏳ Add domains in Vercel dashboard
4. ⏳ Test domain routing
5. ⏳ Update email templates usage in assessment invitation flow
6. ⏳ Monitor analytics for both domains

## Support

For issues or questions about the multi-domain setup, refer to:
- Domain detection: `src/utils/domainDetection.ts`
- Routing logic: `src/App.tsx`
- Configuration: `src/utils/config.ts`

